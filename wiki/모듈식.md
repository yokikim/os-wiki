---
layout: page
title: 모듈식
parent: 커널
---

운영체제를 설계하는 데 이용되는 최근 기술 중 최선책은 아마도 적재가능 커널 모듈 `loadable kernel modules` `LKV` 기법의 사용일 것이다.

이 접근법에서는 커널은 핵심적인 구성요소의 집합을 가지고 있고 부팅 때 또는 실행 중에 부가적인 서비스들을 모듈을 통하여 링크할 수 있다.

### 설계

설계의 주안점은 커널은 핵심 서비스를 제공하고 다른 서비스들은 커널이 실행되는 동안 동적으로 구현하는 것이다.

서비스를 동적으로 링크하는 것은 새로운 기능을 직접 커널에 추가는 것보다 바람직하다.

후자의 경우 수정 사항이 생길 때 마다 커널을 다시 컴파일해야 한다.

예를 들어, CPU 스케줄링과 메모리 관리 알고리즘은 커널에 직접 구현하고 다양한 파일 시스템을 지원하는 것은 적재가능 모듈을 통하여 구현할 수 있다.

### 다른 방법들과 유사한 점

전체적인 결과는 커널의 각 부분의 정의되고 보호된 인터페이스를 가진다는 점에서 계층 구조를 닮았다.

그러나 모듈에서 임의의 다른 모듈을 호출할 수 있다는 점에서 계층구조보다 유연하다.

중심 모듈은 단지 핵심 기능만을 가지고 있고 다른 모듈의 적재방법과 모듈들과 어떻게 통신하는지 안다는 점에서 마이크로 커널과 유사하다.

그러나 통신하기 위하여 메세지 전달을 호출할 필요가 없기 때문에 더 효율적이다.

### 예시

Linux는 주로 장치 드라이버와 파일 시스템을 지원하기 위해 적재가능 커널 모듈을 사용한다.

LKM은 시스템이 시작(또는 ***부팅***)되거나 USB 장치가 실행 중인 시스템에 접속되는 경우와 같이 런타임 중에 커널에 “삽입”될 수 있다.

Linux 커널에 필요한 드라이버가 없으면 동적으로 적재할 수 있다.

LKM는 런타임 중에 커널에서 제거될 수도 있다.

Linux의 경우 LKM은 동적 및 모듈석 커널을 허용하면서 모놀라식 시스템의 성능 이점을 유지한다.