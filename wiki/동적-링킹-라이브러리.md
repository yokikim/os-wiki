---

title: 동적 링킹 라이브러리
layout: page
parent: 메인-메모리_요약,프로그램-적재와-수행
---

392p

동적 연결 라이브러리(DLL)는 사용자 프로그램이 실행될 때, 사용자 프로그램에 연결 되는 시스템 라이브러리다.

(389페이지 그림 9.3삽입)

어떤 운영체제는 정적 연결(static linking)만을 지원한다.

이러한 시스템에서는 라이브러리가 이 프로그램의 이진 프로그램 이미지(image)에 끼어 들어가게 된다.

반대로 동적 연결 개념은 동적 적재의 개념과 유사하다.

동적 적재에서는 로딩(loading)이 실행 시까지 미루어졌었지만 동적 연결에서는 연결(linking)이 실행 시기까지 미루어지는 것이다.

동적 연결은 주로 표준 C 언어 라이브러리와 같은 시스템 라이브러리에 사용된다.

이 기능이 없으면 시스템의 각 프로그램은 실행 가능 이미지에 해당 언어 라이브러리(또는 최소한 프로그램이 참고하는 루틴)의 사본을 포함해야 한다.

이 요구 사항은 실행 가능 이미지의 크기를 증가시킬 뿐만 아니라 메인 메모리를 낭비할 수도 있다.

DLL의 두 번째 장점은 이러한 하이브러리를 여러 프로세스 간에 공유할 수 있어 메인 메모리에 DLL 인스턴스가 하나만 있을 수 있다는 것이다.

이러한 이유로 DLL은 공유 라이브러리라고도 하며 Windows 및 Linux 시스템에서 광범위하게 사용된다.

...

프로그램이 동적 라이브러리에 있는 루틴을 참조하면 로더는 DLL을 찾아 필요한 경우 메모리에 적재한다. 그런 다음 동적 라이브러리의 함수를 참조하는 주소를 DLL이 저장된 메모리의 위치로 조정한다.

...

동적 연결 라이브러리는 라이브러리 갱신으로(예: 버그 수정) 확장할 수 있다.

추가로 라이브러리는 어느 때나 새로운 버전으로 교체될 수 있고, 그렇게 되면 그 라잉브러리를 사용하는 모든 프로그램은 자동으로 이 새로운 라이브러리 버전을 사용하게 될 것이다.

동적 연결이 없었다면 새로운 라이브러리를 사용하기 위해 모든 프로그램은 새로 링크되어야 한다.

프로그램이 다른 라이브러리 버전을 수행하는 것을 방지하기 위해 이제는 버전에 대한 정보가 프로그램과 라이브러리 내에 각각 포함되어야 한다.

여러 버전의 라이브러리들이 시스템에 존재할 수도 있으므로, 각 프로그램은 라이브러리의 어느 버전을 사용해야 할지를 가려내기 위해 이러한 버전 정보를 이용하여야 한다.

소폭의 수정을 가한다면 도일한 버전 번호를 유지할 수 있지만 대폭적인 수정을 가한다면 버전 번호를 증가시켜야 한다.

...

동적 적재와는 달리 연결과 공유 라이브러리는 일반적으로 운영체제의 도움이 필요하다.

메모리에 있는 프로세스들이 각자의 공간을 자기만 액세스할 수 있도록 보호된다면, 운영체제만이 기억 공간에 루틴이 있는지를 검사해 줄 수 있고 운영체제만이 여러 프로그레스가 같은 메모리 주소를 공용할 수 있도록 해줄 수 있다.

공유 페이징 절에서 페이징에 대해 논의할 때 이 개념과 프로세스들이 DLL을 공유할 수 있는 방법에 대해 자세히 설명한다.

